/**
 * Bounded serialization utilities for AI tracing.
 *
 * These utilities prevent memory issues by enforcing strict limits on
 * string lengths, array sizes, object depths, and total output size.
 * They are designed to be used across all tracing/telemetry systems.
 */
/**
 * Configuration limits for serialization.
 * These defaults are intentionally conservative to prevent OOM issues.
 */
export interface SerializationLimits {
    /** Maximum characters for any single attribute string (default: 1024) */
    maxAttrChars: number;
    /** Maximum depth for recursive serialization (default: 6) */
    maxDepth: number;
    /** Maximum object keys to serialize (default: 50) */
    maxKeys: number;
    /** Maximum array elements to serialize (default: 50) */
    maxArrayItems: number;
    /** Maximum total output characters (default: 8192) */
    maxTotalChars: number;
}
export declare const DEFAULT_SERIALIZATION_LIMITS: SerializationLimits;
/**
 * Hard-cap any string to prevent unbounded growth.
 */
export declare function truncateString(s: string, maxChars: number): string;
/**
 * Default keys to strip from objects during deep cleaning.
 * These are typically internal/sensitive fields that shouldn't be traced.
 */
export declare const DEFAULT_KEYS_TO_STRIP: Set<string>;
export interface DeepCleanOptions {
    keysToStrip?: Set<string>;
    maxDepth?: number;
    maxStringLength?: number;
    maxArrayLength?: number;
    maxObjectKeys?: number;
}
/**
 * Recursively cleans a value by removing circular references, stripping problematic keys,
 * and enforcing size limits on strings, arrays, and objects.
 *
 * This is used by AI tracing spans to sanitize input/output data before storing.
 *
 * @param value - The value to clean (object, array, primitive, etc.)
 * @param options - Optional configuration for cleaning behavior
 * @returns A cleaned version of the input with size limits enforced
 */
export declare function deepClean(value: any, options?: DeepCleanOptions): any;
/**
 * Bounded safe stringify for when you need JSON output.
 * Uses deepClean internally, then JSON.stringify with total length limit.
 *
 * @param value - The value to stringify
 * @returns A JSON string representation with enforced limits
 */
export declare function boundedStringify(value: unknown): string;
//# sourceMappingURL=serialization.d.ts.map